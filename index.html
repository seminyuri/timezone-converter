<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ú® –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ - –ö–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã */
            --cosmic-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --aurora-gradient: linear-gradient(135deg, #a8edea 0%, #fed6e3 50%, #c9ffbf 100%);
            --mystic-gradient: linear-gradient(135deg, #d299c2 0%, #fef9d7 50%, #89f7fe 100%);
            --divine-gradient: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            --celestial-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 50%, #ffd140 100%);

            /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ - –Ω–µ–±–µ—Å–Ω–∞—è */
            --bg-light: linear-gradient(180deg, #ffecd2 0%, #fcb69f 50%, #ffeaa7 100%);
            --card-light: rgba(255, 255, 255, 0.95);
            --text-light: #2d3436;
            --shadow-light: rgba(253, 121, 168, 0.3);

            /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ - –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è */
            --bg-dark: linear-gradient(180deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            --card-dark: rgba(30, 30, 60, 0.9);
            --text-dark: #f5f6fa;
            --shadow-dark: rgba(167, 139, 250, 0.4);
        }

        body {
            font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.8;
        }

        body.light-theme {
            color: var(--text-light);
        }

        body.light-theme::before {
            background: var(--bg-light);
            animation: shimmerLight 15s ease-in-out infinite;
        }

        body.dark-theme {
            color: var(--text-dark);
        }

        body.dark-theme::before {
            background: var(--bg-dark);
            animation: shimmerDark 15s ease-in-out infinite;
        }

        /* –ó–≤–µ–∑–¥—ã –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        body.dark-theme::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 60px 70px, white, transparent),
                radial-gradient(1px 1px at 50px 50px, white, transparent),
                radial-gradient(1px 1px at 130px 80px, white, transparent),
                radial-gradient(2px 2px at 90px 10px, white, transparent);
            background-size: 200px 200px;
            animation: twinkle 3s ease-in-out infinite;
            z-index: -1;
            opacity: 0.6;
        }

        /* –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
        body.light-theme::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle, rgba(255, 215, 0, 0.3) 1px, transparent 1px),
                radial-gradient(circle, rgba(255, 192, 203, 0.3) 1px, transparent 1px);
            background-size: 150px 150px;
            background-position: 0 0, 75px 75px;
            animation: float 20s linear infinite;
            z-index: -1;
            opacity: 0.4;
        }

        .container {
            max-width: 600px;
            width: 100%;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--cosmic-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            animation: fadeInDown 0.8s ease, glow 3s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(167, 139, 250, 0.5);
            letter-spacing: 2px;
        }

        /* –ë–æ–ª–µ–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
        .light-theme .header h1 {
            background: linear-gradient(135deg, #d946ef, #9333ea, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 8px rgba(147, 51, 234, 0.3));
            font-weight: 800;
        }

        .header p {
            font-size: 1.1rem;
            font-weight: 300;
            opacity: 0.85;
            letter-spacing: 3px;
            text-transform: uppercase;
            font-size: 0.85rem;
            animation: fadeInDown 0.8s ease 0.2s both;
        }

        .header p::before,
        .header p::after {
            content: '‚ú¶';
            margin: 0 15px;
            opacity: 0.6;
        }

        .theme-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--cosmic-gradient);
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 8px 32px rgba(167, 139, 250, 0.6),
                        inset 0 0 20px rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
            z-index: 999;
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            animation: rotateGlow 4s linear infinite;
        }

        .theme-toggle:hover {
            transform: scale(1.15) rotate(180deg);
            box-shadow: 0 12px 48px rgba(167, 139, 250, 0.8),
                        inset 0 0 30px rgba(255, 255, 255, 0.3);
        }

        .theme-toggle:active {
            transform: scale(1.05) rotate(180deg);
        }

        .card {
            border-radius: 30px;
            padding: 40px;
            margin-bottom: 30px;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation: fadeInUp 0.8s ease;
            position: relative;
            overflow: visible;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--aurora-gradient);
            border-radius: 30px;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }

        /* –ü—É–ª—å—Å–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
        .light-theme .card::before {
            animation: borderGlow 5s linear infinite;
        }

        .light-theme .card:hover::before {
            opacity: 0.6;
        }

        /* –î–ª—è —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã - —Å—Ç–∞—Ç–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç */
        .dark-theme .card::before {
            animation: none;
        }

        .dark-theme .card:hover::before {
            opacity: 0.3;
        }

        .light-theme .card {
            background: var(--card-light);
            box-shadow: 0 15px 60px var(--shadow-light),
                        inset 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .dark-theme .card {
            background: var(--card-dark);
            box-shadow: 0 15px 60px var(--shadow-dark),
                        inset 0 0 30px rgba(167, 139, 250, 0.05);
            border: 2px solid rgba(167, 139, 250, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.9;
            position: relative;
            display: inline-block;
        }

        .form-group label::after {
            content: '‚úß';
            margin-left: 8px;
            opacity: 0.5;
            animation: sparkle 2s ease-in-out infinite;
        }

        .input-wrapper {
            position: relative;
        }

        input, select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid transparent;
            border-radius: 15px;
            font-size: 1.05rem;
            font-family: 'Quicksand', sans-serif;
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }

        .light-theme input,
        .light-theme select {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(240, 147, 251, 0.1) 100%);
            color: var(--text-light);
            box-shadow: 0 4px 15px rgba(253, 121, 168, 0.15),
                        inset 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .dark-theme input,
        .dark-theme select {
            background: linear-gradient(135deg, rgba(48, 43, 99, 0.6) 0%, rgba(102, 126, 234, 0.2) 100%);
            color: var(--text-dark);
            box-shadow: 0 4px 15px rgba(167, 139, 250, 0.2),
                        inset 0 0 10px rgba(167, 139, 250, 0.1);
        }

        input:focus, select:focus {
            outline: none;
            border-color: #a78bfa;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 30px rgba(167, 139, 250, 0.5),
                        inset 0 0 20px rgba(167, 139, 250, 0.2);
        }

        input:hover, select:hover {
            transform: translateY(-2px);
        }

        .result-card {
            background: var(--cosmic-gradient);
            border-radius: 35px;
            padding: 50px 40px;
            text-align: center;
            color: white;
            box-shadow: 0 25px 80px rgba(167, 139, 250, 0.6),
                        0 0 100px rgba(240, 147, 251, 0.3),
                        inset 0 0 60px rgba(255, 255, 255, 0.1);
            animation: fadeInUp 1s ease 0.3s both, cardPulse 6s ease-in-out infinite;
            position: relative;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: spiralPulse 8s ease-in-out infinite;
        }

        .result-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(240, 147, 251, 0.3) 0%, transparent 50%);
            animation: floatBubbles 10s ease-in-out infinite;
        }

        .result-card > * {
            position: relative;
            z-index: 1;
        }

        .result-label {
            font-size: 0.95rem;
            opacity: 0.95;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .result-label::before,
        .result-label::after {
            content: '‚ú¶';
            margin: 0 12px;
            animation: sparkle 2s ease-in-out infinite;
        }

        .result-time {
            font-family: 'Cinzel', serif;
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 5px 30px rgba(0,0,0,0.4),
                         0 0 60px rgba(255, 255, 255, 0.5);
            animation: timeGlow 3s ease-in-out infinite;
            letter-spacing: 5px;
        }

        .result-date {
            font-size: 1.4rem;
            opacity: 0.98;
            margin-bottom: 20px;
            font-weight: 500;
            text-shadow: 0 2px 15px rgba(0,0,0,0.3);
        }

        .time-diff {
            display: inline-block;
            background: rgba(255, 255, 255, 0.25);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1rem;
            margin-bottom: 25px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2),
                        inset 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .day-indicator {
            font-size: 4rem;
            margin-bottom: 15px;
            animation: floatSpin 4s ease-in-out infinite;
            filter: drop-shadow(0 8px 20px rgba(0,0,0,0.3));
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.25);
            border: 3px solid rgba(255, 255, 255, 0.6);
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 700;
            font-family: 'Quicksand', sans-serif;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3),
                        inset 0 0 20px rgba(255, 255, 255, 0.2);
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .copy-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .copy-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4),
                        inset 0 0 30px rgba(255, 255, 255, 0.3);
            border-color: white;
        }

        .copy-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .copy-btn > * {
            position: relative;
            z-index: 1;
        }

        .recent-cities {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid;
            border-image: var(--aurora-gradient) 1;
        }

        .recent-cities-label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        .recent-city-btn {
            display: inline-block;
            padding: 8px 18px;
            margin: 5px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 2px solid;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .light-theme .recent-city-btn {
            border-color: rgba(240, 147, 251, 0.4);
            background: rgba(240, 147, 251, 0.1);
            color: var(--text-light);
        }

        .dark-theme .recent-city-btn {
            border-color: rgba(167, 139, 250, 0.4);
            background: rgba(167, 139, 250, 0.1);
            color: var(--text-dark);
        }

        .recent-city-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 20px rgba(167, 139, 250, 0.4);
        }

        .light-theme .recent-city-btn:hover {
            background: rgba(240, 147, 251, 0.25);
            border-color: #f093fb;
        }

        .dark-theme .recent-city-btn:hover {
            background: rgba(167, 139, 250, 0.25);
            border-color: #a78bfa;
        }

        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            background: var(--divine-gradient);
            color: white;
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(142, 197, 252, 0.6),
                        inset 0 0 30px rgba(255, 255, 255, 0.2);
            transform: translateX(500px);
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            font-weight: 600;
            font-size: 1.05rem;
            border: 2px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(15px);
        }

        .notification.show {
            transform: translateX(0);
            animation: notificationPulse 0.6s ease;
        }

        /* Dropdown –¥–ª—è –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ */
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–æ–∏—Å–∫–æ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ –¥—Ä—É–≥–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ */
        .card:has(#citySearch) {
            z-index: 10;
        }

        .city-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            max-height: 300px;
            overflow-y: auto;
            border-radius: 15px;
            margin-top: 5px;
            z-index: 1000;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .city-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .light-theme .city-dropdown {
            background: rgba(255, 255, 255, 0.98);
            border: 2px solid rgba(240, 147, 251, 0.3);
        }

        .dark-theme .city-dropdown {
            background: rgba(30, 30, 60, 0.98);
            border: 2px solid rgba(167, 139, 250, 0.3);
        }

        .city-option {
            padding: 12px 18px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            border-bottom: 1px solid rgba(150, 150, 150, 0.1);
        }

        .city-option:last-child {
            border-bottom: none;
        }

        .light-theme .city-option:hover,
        .light-theme .city-option.highlighted {
            background: rgba(240, 147, 251, 0.15);
            transform: translateX(5px);
        }

        .dark-theme .city-option:hover,
        .dark-theme .city-option.highlighted {
            background: rgba(167, 139, 250, 0.15);
            transform: translateX(5px);
        }

        .city-option-name {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .city-option-country {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .city-option-timezone {
            font-size: 0.8rem;
            opacity: 0.6;
            margin-top: 2px;
        }

        .no-results {
            padding: 20px;
            text-align: center;
            opacity: 0.6;
            font-style: italic;
        }

        /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π select */
        #clientCity {
            display: none !important;
        }

        /* –ü–æ–∑–∏—Ü–∏—è –¥–ª—è dropdown */
        .form-group {
            position: relative;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã */
        @keyframes shimmerLight {
            0%, 100% {
                opacity: 0.8;
            }
            50% {
                opacity: 1;
            }
        }

        @keyframes shimmerDark {
            0%, 100% {
                opacity: 0.8;
            }
            50% {
                opacity: 1;
            }
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 0.8;
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0) translateX(0);
            }
            33% {
                transform: translateY(-20px) translateX(10px);
            }
            66% {
                transform: translateY(-10px) translateX(-10px);
            }
            100% {
                transform: translateY(0) translateX(0);
            }
        }

        @keyframes floatSpin {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-15px) rotate(5deg);
            }
            50% {
                transform: translateY(-5px) rotate(-5deg);
            }
            75% {
                transform: translateY(-10px) rotate(3deg);
            }
        }

        @keyframes glow {
            0%, 100% {
                filter: brightness(1) drop-shadow(0 0 10px rgba(167, 139, 250, 0.3));
            }
            50% {
                filter: brightness(1.2) drop-shadow(0 0 30px rgba(240, 147, 251, 0.6));
            }
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0.5;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        @keyframes timeGlow {
            0%, 100% {
                text-shadow: 0 5px 30px rgba(0,0,0,0.4),
                             0 0 60px rgba(255, 255, 255, 0.5);
            }
            50% {
                text-shadow: 0 5px 30px rgba(0,0,0,0.4),
                             0 0 80px rgba(255, 255, 255, 0.8),
                             0 0 100px rgba(240, 147, 251, 0.6);
            }
        }

        @keyframes cardPulse {
            0%, 100% {
                box-shadow: 0 25px 80px rgba(167, 139, 250, 0.6),
                            0 0 100px rgba(240, 147, 251, 0.3),
                            inset 0 0 60px rgba(255, 255, 255, 0.1);
            }
            50% {
                box-shadow: 0 30px 100px rgba(167, 139, 250, 0.8),
                            0 0 150px rgba(240, 147, 251, 0.5),
                            inset 0 0 80px rgba(255, 255, 255, 0.2);
            }
        }

        @keyframes spiralPulse {
            0% {
                transform: rotate(0deg) scale(1);
                opacity: 0.2;
            }
            50% {
                transform: rotate(180deg) scale(1.1);
                opacity: 0.3;
            }
            100% {
                transform: rotate(360deg) scale(1);
                opacity: 0.2;
            }
        }

        @keyframes floatBubbles {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-20px) scale(1.05);
            }
        }

        @keyframes borderGlow {
            0%, 100% {
                opacity: 0;
            }
            50% {
                opacity: 0.6;
            }
        }

        @keyframes rotateGlow {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes notificationPulse {
            0% {
                transform: translateX(0) scale(1);
            }
            50% {
                transform: translateX(0) scale(1.05);
            }
            100% {
                transform: translateX(0) scale(1);
            }
        }

        /* –ü–ª–∞–Ω—à–µ—Ç—ã */
        @media (max-width: 768px) {
            .container {
                max-width: 100%;
            }

            body {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
                letter-spacing: 1.5px;
            }

            .header p {
                font-size: 0.8rem;
                letter-spacing: 2.5px;
            }

            .card {
                padding: 30px;
            }

            .result-card {
                padding: 45px 30px;
            }

            .theme-toggle {
                width: 65px;
                height: 65px;
                bottom: 25px;
                right: 25px;
            }
        }

        /* –ú–æ–±–∏–ª—å–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã */
        @media (max-width: 600px) {
            body {
                padding: 10px;
                padding-bottom: 20px;
            }

            .header {
                margin-bottom: 25px;
            }

            .header h1 {
                font-size: 1.6rem;
                letter-spacing: 1px;
                margin-bottom: 10px;
            }

            .header p {
                font-size: 0.7rem;
                letter-spacing: 2px;
            }

            .header p::before,
            .header p::after {
                margin: 0 8px;
            }

            .card {
                padding: 20px;
                border-radius: 20px;
                margin-bottom: 20px;
            }

            .form-group {
                margin-bottom: 18px;
            }

            .form-group label {
                font-size: 0.75rem;
                margin-bottom: 10px;
                letter-spacing: 1.5px;
            }

            input, select {
                padding: 14px 16px;
                font-size: 1rem;
                border-radius: 12px;
            }

            .result-card {
                padding: 35px 20px;
                border-radius: 25px;
                margin-bottom: 80px;
            }

            .result-label {
                font-size: 0.8rem;
                letter-spacing: 3px;
                margin-bottom: 12px;
            }

            .result-label::before,
            .result-label::after {
                margin: 0 8px;
            }

            .result-time {
                font-size: 2.8rem;
                letter-spacing: 3px;
                margin-bottom: 12px;
            }

            .result-date {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }

            .time-diff {
                font-size: 0.9rem;
                padding: 8px 16px;
                margin-bottom: 20px;
            }

            .day-indicator {
                font-size: 3.5rem;
                margin-bottom: 12px;
            }

            .copy-btn {
                padding: 14px 32px;
                font-size: 1rem;
                border-radius: 25px;
                width: 100%;
                max-width: 280px;
            }

            .recent-cities {
                margin-top: 15px;
                padding-top: 15px;
            }

            .recent-cities-label {
                font-size: 0.75rem;
                margin-bottom: 10px;
            }

            .recent-city-btn {
                padding: 8px 16px;
                margin: 4px;
                font-size: 0.85rem;
                border-radius: 18px;
            }

            .theme-toggle {
                width: 60px;
                height: 60px;
                font-size: 1.8rem;
                bottom: 20px;
                right: 20px;
            }

            .notification {
                top: 15px;
                right: 15px;
                left: 15px;
                padding: 15px 20px;
                font-size: 0.9rem;
                border-radius: 15px;
            }
        }

        /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.4rem;
            }

            .header p {
                font-size: 0.65rem;
                letter-spacing: 1.5px;
            }

            .result-time {
                font-size: 2.4rem;
                letter-spacing: 2px;
            }

            .result-date {
                font-size: 1rem;
            }

            .card {
                padding: 18px;
            }

            .result-card {
                padding: 30px 18px;
            }

            .copy-btn {
                padding: 12px 24px;
                font-size: 0.95rem;
            }

            .theme-toggle {
                width: 55px;
                height: 55px;
                font-size: 1.6rem;
                bottom: 15px;
                right: 15px;
            }
        }

        /* Landscape –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 900px) and (max-height: 500px) {
            body {
                padding: 10px;
            }

            .header {
                margin-bottom: 15px;
            }

            .header h1 {
                font-size: 1.5rem;
                margin-bottom: 5px;
            }

            .header p {
                font-size: 0.7rem;
            }

            .card {
                padding: 20px;
                margin-bottom: 15px;
            }

            .result-card {
                padding: 25px 20px;
                margin-bottom: 80px;
            }

            .form-group {
                margin-bottom: 12px;
            }

            .day-indicator {
                font-size: 2.5rem;
                margin-bottom: 8px;
            }

            .result-time {
                font-size: 2.2rem;
                margin-bottom: 8px;
            }

            .result-date {
                font-size: 1rem;
                margin-bottom: 10px;
            }

            .time-diff {
                margin-bottom: 15px;
            }

            .theme-toggle {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                bottom: 15px;
                right: 15px;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (hover: none) and (pointer: coarse) {
            input, select, button {
                /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å –∫–ª–∏–∫–∞ –¥–ª—è –ø–∞–ª—å—Ü–µ–≤ */
                min-height: 44px;
            }

            .theme-toggle {
                /* –ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –Ω–∞–∂–∞—Ç–∏—è */
                width: 60px;
                height: 60px;
            }

            .recent-city-btn {
                min-height: 40px;
                padding: 10px 18px;
            }

            /* –£–±–∏—Ä–∞–µ–º hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
            .card:hover::before {
                opacity: 0;
            }

            /* –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–º–µ—Å—Ç–æ hover */
            input:active, select:active {
                transform: translateY(-2px) scale(1.01);
            }

            .copy-btn:active {
                transform: translateY(-3px) scale(1.03);
            }

            .recent-city-btn:active {
                transform: translateY(-2px) scale(1.03);
            }
        }
    </style>
</head>
<body class="light-theme">
    <div class="container">
        <div class="header">
            <h1>‚ú® –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –í—Ä–µ–º–µ–Ω–∏ ‚ú®</h1>
            <p>—Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é –æ—Ç –°—ë–º–∏–Ω—ã—Ö</p>
        </div>

        <div class="card">
            <div class="form-group">
                <label for="psychologistDate">–í–∞—à–∞ –¥–∞—Ç–∞</label>
                <input type="date" id="psychologistDate" required>
            </div>

            <div class="form-group">
                <label for="psychologistTime">–í–∞—à–µ –≤—Ä–µ–º—è (–ö–∞–º—á–∞—Ç–∫–∞)</label>
                <input type="time" id="psychologistTime" required>
            </div>

            <div class="form-group">
                <label for="citySearch">–ì–æ—Ä–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞</label>
                <input
                    type="text"
                    id="citySearch"
                    placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..."
                    autocomplete="off"
                >
                <select id="clientCity" required style="display: none;">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥...</option>
                </select>
                <div id="cityDropdown" class="city-dropdown"></div>
            </div>

            <div class="recent-cities" id="recentCitiesContainer" style="display: none;">
                <div class="recent-cities-label">–ù–µ–¥–∞–≤–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:</div>
                <div id="recentCitiesList"></div>
            </div>
        </div>

        <div class="result-card" id="resultCard">
            <div class="day-indicator" id="dayIndicator">üåÖ</div>
            <div class="result-label">–í—Ä–µ–º—è –∫–ª–∏–µ–Ω—Ç–∞</div>
            <div class="result-time" id="resultTime">--:--</div>
            <div class="result-date" id="resultDate">-- --- ----</div>
            <div class="time-diff" id="timeDiff">–†–∞–∑–Ω–∏—Ü–∞: --—á</div>
            <button class="copy-btn" id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è</button>
        </div>
    </div>

    <div class="notification" id="notification">–í—Ä–µ–º—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!</div>

    <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>

    <script>
        const { DateTime } = luxon;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const psychologistDateInput = document.getElementById('psychologistDate');
        const psychologistTimeInput = document.getElementById('psychologistTime');
        const clientCitySelect = document.getElementById('clientCity');
        const citySearchInput = document.getElementById('citySearch');
        const cityDropdown = document.getElementById('cityDropdown');
        const resultTime = document.getElementById('resultTime');
        const resultDate = document.getElementById('resultDate');
        const timeDiff = document.getElementById('timeDiff');
        const dayIndicator = document.getElementById('dayIndicator');
        const copyBtn = document.getElementById('copyBtn');
        const notification = document.getElementById('notification');
        const themeToggle = document.getElementById('themeToggle');
        const recentCitiesContainer = document.getElementById('recentCitiesContainer');
        const recentCitiesList = document.getElementById('recentCitiesList');

        // –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –°–ù–ì —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
        const cities = [
            // –†–æ—Å—Å–∏—è - –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è —á–∞—Å—Ç—å (UTC+3)
            { name: '–ú–æ—Å–∫–≤–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ö–∞–∑–∞–Ω—å', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–í–æ—Ä–æ–Ω–µ–∂', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–°–æ—á–∏', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–¢—É–ª–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–†—è–∑–∞–Ω—å', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–Ø—Ä–æ—Å–ª–∞–≤–ª—å', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ë—Ä—è–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ö—É—Ä—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–°–º–æ–ª–µ–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ú—É—Ä–º–∞–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–í–æ–ª–æ–≥–¥–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },
            { name: '–°—ã–∫—Ç—ã–≤–∫–∞—Ä', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Moscow', utc: 'UTC+3' },

            // –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥ (UTC+2)
            { name: '–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Kaliningrad', utc: 'UTC+2' },

            // –í–æ–ª–≥–æ–≥—Ä–∞–¥ (UTC+3)
            { name: '–í–æ–ª–≥–æ–≥—Ä–∞–¥', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Volgograd', utc: 'UTC+3' },
            { name: '–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Astrakhan', utc: 'UTC+4' },

            // –°–∞–º–∞—Ä–∞ (UTC+4)
            { name: '–°–∞–º–∞—Ä–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Samara', utc: 'UTC+4' },
            { name: '–¢–æ–ª—å—è—Ç—Ç–∏', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Samara', utc: 'UTC+4' },
            { name: '–ò–∂–µ–≤—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Samara', utc: 'UTC+4' },
            { name: '–£–ª—å—è–Ω–æ–≤—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Europe/Samara', utc: 'UTC+4' },

            // –£—Ä–∞–ª (UTC+5)
            { name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–ß–µ–ª—è–±–∏–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–£—Ñ–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–ü–µ—Ä–º—å', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–û—Ä–µ–Ω–±—É—Ä–≥', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },
            { name: '–ö—É—Ä–≥–∞–Ω', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yekaterinburg', utc: 'UTC+5' },

            // –û–º—Å–∫ (UTC+6)
            { name: '–û–º—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Omsk', utc: 'UTC+6' },

            // –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ (UTC+7)
            { name: '–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Krasnoyarsk', utc: 'UTC+7' },
            { name: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Novosibirsk', utc: 'UTC+7' },
            { name: '–¢–æ–º—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Tomsk', utc: 'UTC+7' },
            { name: '–ö–µ–º–µ—Ä–æ–≤–æ', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Novokuznetsk', utc: 'UTC+7' },
            { name: '–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Novokuznetsk', utc: 'UTC+7' },
            { name: '–ë–∞—Ä–Ω–∞—É–ª', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Barnaul', utc: 'UTC+7' },

            // –ò—Ä–∫—É—Ç—Å–∫ (UTC+8)
            { name: '–ò—Ä–∫—É—Ç—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Irkutsk', utc: 'UTC+8' },
            { name: '–£–ª–∞–Ω-–£–¥—ç', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Irkutsk', utc: 'UTC+8' },
            { name: '–ß–∏—Ç–∞', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Chita', utc: 'UTC+9' },

            // –Ø–∫—É—Ç—Å–∫ (UTC+9)
            { name: '–Ø–∫—É—Ç—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yakutsk', utc: 'UTC+9' },
            { name: '–ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Yakutsk', utc: 'UTC+9' },

            // –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫ (UTC+10)
            { name: '–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Vladivostok', utc: 'UTC+10' },
            { name: '–•–∞–±–∞—Ä–æ–≤—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Vladivostok', utc: 'UTC+10' },

            // –ú–∞–≥–∞–¥–∞–Ω (UTC+11)
            { name: '–ú–∞–≥–∞–¥–∞–Ω', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Magadan', utc: 'UTC+11' },
            { name: '–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Sakhalin', utc: 'UTC+11' },

            // –ö–∞–º—á–∞—Ç–∫–∞ (UTC+12)
            { name: '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π', country: '–†–æ—Å—Å–∏—è', timezone: 'Asia/Kamchatka', utc: 'UTC+12' },

            // –ë–µ–ª–∞—Ä—É—Å—å (UTC+3)
            { name: '–ú–∏–Ω—Å–∫', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },
            { name: '–ì–æ–º–µ–ª—å', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },
            { name: '–ú–æ–≥–∏–ª—ë–≤', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },
            { name: '–í–∏—Ç–µ–±—Å–∫', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },
            { name: '–ì—Ä–æ–¥–Ω–æ', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },
            { name: '–ë—Ä–µ—Å—Ç', country: '–ë–µ–ª–∞—Ä—É—Å—å', timezone: 'Europe/Minsk', utc: 'UTC+3' },

            // –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
            { name: '–ê–ª–º–∞—Ç—ã', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },
            { name: '–ê—Å—Ç–∞–Ω–∞', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },
            { name: '–®—ã–º–∫–µ–Ω—Ç', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },
            { name: '–ö–∞—Ä–∞–≥–∞–Ω–¥–∞', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },
            { name: '–ê–∫—Ç–æ–±–µ', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Aqtobe', utc: 'UTC+5' },
            { name: '–ê—Ç—ã—Ä–∞—É', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Atyrau', utc: 'UTC+5' },
            { name: '–ê–∫—Ç–∞—É', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Aqtau', utc: 'UTC+5' },
            { name: '–ö–æ—Å—Ç–∞–Ω–∞–π', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Qostanay', utc: 'UTC+6' },
            { name: '–ü–∞–≤–ª–æ–¥–∞—Ä', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },
            { name: '–°–µ–º–µ–π', country: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω', timezone: 'Asia/Almaty', utc: 'UTC+6' },

            // –£–∫—Ä–∞–∏–Ω–∞ (UTC+2)
            { name: '–ö–∏–µ–≤', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Kiev', utc: 'UTC+2' },
            { name: '–•–∞—Ä—å–∫–æ–≤', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Kiev', utc: 'UTC+2' },
            { name: '–û–¥–µ—Å—Å–∞', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Kiev', utc: 'UTC+2' },
            { name: '–î–Ω–µ–ø—Ä', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Kiev', utc: 'UTC+2' },
            { name: '–õ—å–≤–æ–≤', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Kiev', utc: 'UTC+2' },
            { name: '–ó–∞–ø–æ—Ä–æ–∂—å–µ', country: '–£–∫—Ä–∞–∏–Ω–∞', timezone: 'Europe/Zaporozhye', utc: 'UTC+2' },

            // –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω (UTC+5)
            { name: '–¢–∞—à–∫–µ–Ω—Ç', country: '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', timezone: 'Asia/Tashkent', utc: 'UTC+5' },
            { name: '–°–∞–º–∞—Ä–∫–∞–Ω–¥', country: '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', timezone: 'Asia/Samarkand', utc: 'UTC+5' },
            { name: '–ë—É—Ö–∞—Ä–∞', country: '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', timezone: 'Asia/Tashkent', utc: 'UTC+5' },
            { name: '–ù–∞–º–∞–Ω–≥–∞–Ω', country: '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', timezone: 'Asia/Tashkent', utc: 'UTC+5' },

            // –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω (UTC+4)
            { name: '–ë–∞–∫—É', country: '–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω', timezone: 'Asia/Baku', utc: 'UTC+4' },
            { name: '–ì—è–Ω–¥–∂–∞', country: '–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω', timezone: 'Asia/Baku', utc: 'UTC+4' },

            // –ì—Ä—É–∑–∏—è (UTC+4)
            { name: '–¢–±–∏–ª–∏—Å–∏', country: '–ì—Ä—É–∑–∏—è', timezone: 'Asia/Tbilisi', utc: 'UTC+4' },
            { name: '–ë–∞—Ç—É–º–∏', country: '–ì—Ä—É–∑–∏—è', timezone: 'Asia/Tbilisi', utc: 'UTC+4' },

            // –ê—Ä–º–µ–Ω–∏—è (UTC+4)
            { name: '–ï—Ä–µ–≤–∞–Ω', country: '–ê—Ä–º–µ–Ω–∏—è', timezone: 'Asia/Yerevan', utc: 'UTC+4' },

            // –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω (UTC+6)
            { name: '–ë–∏—à–∫–µ–∫', country: '–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω', timezone: 'Asia/Bishkek', utc: 'UTC+6' },
            { name: '–û—à', country: '–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω', timezone: 'Asia/Bishkek', utc: 'UTC+6' },

            // –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω (UTC+5)
            { name: '–î—É—à–∞–Ω–±–µ', country: '–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω', timezone: 'Asia/Dushanbe', utc: 'UTC+5' },

            // –¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω (UTC+5)
            { name: '–ê—à—Ö–∞–±–∞–¥', country: '–¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω', timezone: 'Asia/Ashgabat', utc: 'UTC+5' },

            // –ú–æ–ª–¥–æ–≤–∞ (UTC+2)
            { name: '–ö–∏—à–∏–Ω—ë–≤', country: '–ú–æ–ª–¥–æ–≤–∞', timezone: 'Europe/Chisinau', utc: 'UTC+2' },
        ];

        let selectedCity = null;
        let highlightedIndex = -1;
        let filteredCities = [];

        // –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤
        function searchCities(query) {
            if (!query || query.length < 1) {
                return [];
            }

            query = query.toLowerCase().trim();

            return cities.filter(city => {
                return city.name.toLowerCase().includes(query) ||
                       city.country.toLowerCase().includes(query);
            }).slice(0, 10); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∞–∫—Å 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ dropdown —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
        function showDropdown(results) {
            console.log('üîç showDropdown called with results:', results.length);

            if (results.length === 0) {
                cityDropdown.innerHTML = '<div class="no-results">–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω</div>';
                cityDropdown.classList.add('show');
                return;
            }

            filteredCities = results;
            highlightedIndex = -1;

            cityDropdown.innerHTML = results.map((city, index) => `
                <div class="city-option" data-index="${index}">
                    <div class="city-option-name">${city.name}</div>
                    <div class="city-option-country">${city.country}</div>
                    <div class="city-option-timezone">${city.utc}</div>
                </div>
            `).join('');

            cityDropdown.classList.add('show');
            console.log('‚úÖ Dropdown shown');

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–∞
            const options = cityDropdown.querySelectorAll('.city-option');
            console.log('‚úÖ Found city options:', options.length);

            options.forEach((option, index) => {
                option.addEventListener('click', (e) => {
                    e.stopPropagation(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è
                    console.log('üñ±Ô∏è City option clicked:', results[index].name);
                    selectCity(results[index]);
                });
            });

            console.log('‚úÖ Event listeners attached to', options.length, 'options');
        }

        // –°–∫—Ä—ã—Ç—å dropdown
        function hideDropdown() {
            cityDropdown.classList.remove('show');
            highlightedIndex = -1;
        }

        // –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞
        function selectCity(city) {
            console.log('selectCity called with:', city);
            selectedCity = city;
            citySearchInput.value = `${city.name}, ${city.country}`;

            // –û—á–∏—â–∞–µ–º select –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –æ–ø—Ü–∏—é —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º
            clientCitySelect.innerHTML = '';
            const option = document.createElement('option');
            option.value = city.timezone;
            option.textContent = `${city.name}, ${city.country}`;
            option.selected = true;
            clientCitySelect.appendChild(option);

            console.log('clientCitySelect.value set to:', clientCitySelect.value);
            hideDropdown();
            console.log('About to call convertTime()');
            convertTime();
            console.log('convertTime() completed');
        }

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
        function highlightOption(index) {
            const options = cityDropdown.querySelectorAll('.city-option');
            options.forEach(opt => opt.classList.remove('highlighted'));

            if (index >= 0 && index < options.length) {
                options[index].classList.add('highlighted');
                options[index].scrollIntoView({ block: 'nearest' });
            }
        }

        // –°–æ–±—ã—Ç–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞
        citySearchInput.addEventListener('input', (e) => {
            const query = e.target.value;

            if (query.length === 0) {
                hideDropdown();
                selectedCity = null;
                clientCitySelect.value = '';
                return;
            }

            const results = searchCities(query);
            showDropdown(results);
        });

        citySearchInput.addEventListener('focus', (e) => {
            if (e.target.value.length > 0 && filteredCities.length > 0) {
                cityDropdown.classList.add('show');
            }
        });

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
        citySearchInput.addEventListener('keydown', (e) => {
            if (!cityDropdown.classList.contains('show')) return;

            switch(e.key) {
                case 'ArrowDown':
                    e.preventDefault();
                    highlightedIndex = Math.min(highlightedIndex + 1, filteredCities.length - 1);
                    highlightOption(highlightedIndex);
                    break;

                case 'ArrowUp':
                    e.preventDefault();
                    highlightedIndex = Math.max(highlightedIndex - 1, 0);
                    highlightOption(highlightedIndex);
                    break;

                case 'Enter':
                    e.preventDefault();
                    if (highlightedIndex >= 0 && filteredCities[highlightedIndex]) {
                        selectCity(filteredCities[highlightedIndex]);
                    }
                    break;

                case 'Escape':
                    e.preventDefault();
                    hideDropdown();
                    break;
            }
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ dropdown –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.addEventListener('click', (e) => {
            const clickedInside = citySearchInput.contains(e.target) || cityDropdown.contains(e.target);
            console.log('üìç Document click - target:', e.target.className, 'clickedInside:', clickedInside);

            if (!clickedInside) {
                console.log('‚ö†Ô∏è Closing dropdown (clicked outside)');
                hideDropdown();
            }
        });

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ö–∞–º—á–∞—Ç–∫–∏
        function getAutoTheme() {
            const now = DateTime.now().setZone('Asia/Kamchatka');
            const hour = now.hour;

            // –ï—Å–ª–∏ –≤—Ä–µ–º—è —Å 20:00 –¥–æ 07:59 - —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ (–Ω–æ—á—å)
            // –ï—Å–ª–∏ –≤—Ä–µ–º—è —Å 08:00 –¥–æ 19:59 - —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (–¥–µ–Ω—å)
            if (hour >= 20 || hour < 8) {
                return 'dark';
            } else {
                return 'light';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
            const now = DateTime.now().setZone('Asia/Kamchatka');
            psychologistDateInput.value = now.toFormat('yyyy-MM-dd');
            psychologistTimeInput.value = now.toFormat('HH:mm');

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∞ –ª–∏ —Ç–µ–º–∞ –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
            const manualThemeChange = localStorage.getItem('manualThemeChange');
            let theme;

            if (manualThemeChange === 'true') {
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–ª —Ç–µ–º—É –≤—Ä—É—á–Ω—É—é - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é
                theme = localStorage.getItem('theme') || getAutoTheme();
            } else {
                // –ò–Ω–∞—á–µ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
                theme = getAutoTheme();
                localStorage.setItem('theme', theme);
            }

            document.body.className = theme + '-theme';
            updateThemeIcon(theme);

            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–¥–∞–≤–Ω–∏—Ö –≥–æ—Ä–æ–¥–æ–≤
            loadRecentCities();

            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–µ –Ω—É–∂–µ–Ω - –≥–æ—Ä–æ–¥ –µ—â—ë –Ω–µ –≤—ã–±—Ä–∞–Ω
            // convertTime();
        }

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
        function convertTime() {
            try {
                console.log('=== convertTime START ===');
                const date = psychologistDateInput.value;
                const time = psychologistTimeInput.value;
                const clientTimezone = clientCitySelect.value;

                console.log('convertTime called:', { date, time, clientTimezone, selectedCity });

                if (!date || !time || !clientTimezone) {
                    console.log('‚ùå Missing required fields:', { date, time, clientTimezone });
                    return;
                }

                console.log('‚úÖ All fields present, creating DateTime...');

                // –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –ö–∞–º—á–∞—Ç–∫–∏
                const psychologistDateTime = DateTime.fromISO(`${date}T${time}`, {
                    zone: 'Asia/Kamchatka'
                });
                console.log('‚úÖ psychologistDateTime created:', psychologistDateTime.toISO());

                // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –∫–ª–∏–µ–Ω—Ç–∞
                const clientDateTime = psychologistDateTime.setZone(clientTimezone);
                console.log('‚úÖ clientDateTime created:', clientDateTime.toISO());

                // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                const timeFormatted = clientDateTime.toFormat('HH:mm');
                const dateFormatted = clientDateTime.toFormat('dd MMMM yyyy, cccc', { locale: 'ru' });

                console.log('‚úÖ Formatted time:', timeFormatted);
                console.log('‚úÖ Formatted date:', dateFormatted);

                resultTime.textContent = timeFormatted;
                resultDate.textContent = dateFormatted;

                console.log('‚úÖ DOM updated - resultTime:', resultTime.textContent);
                console.log('‚úÖ DOM updated - resultDate:', resultDate.textContent);

                // –†–∞—Å—á–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏
                const diffHours = Math.round((clientDateTime.offset - psychologistDateTime.offset) / 60);
                const diffSign = diffHours >= 0 ? '+' : '';
                const diffText = `–†–∞–∑–Ω–∏—Ü–∞: ${diffSign}${diffHours}—á`;
                timeDiff.textContent = diffText;
                console.log('‚úÖ Time diff:', diffText);

                // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –¥–Ω—è/–Ω–æ—á–∏
                const hour = clientDateTime.hour;
                let icon;
                if (hour >= 5 && hour < 12) {
                    icon = 'üåÖ'; // –£—Ç—Ä–æ
                } else if (hour >= 12 && hour < 18) {
                    icon = '‚òÄÔ∏è'; // –î–µ–Ω—å
                } else if (hour >= 18 && hour < 22) {
                    icon = 'üåÜ'; // –í–µ—á–µ—Ä
                } else {
                    icon = 'üåô'; // –ù–æ—á—å
                }
                dayIndicator.textContent = icon;
                console.log('‚úÖ Day indicator:', icon, 'for hour:', hour);

                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –≤ –Ω–µ–¥–∞–≤–Ω–∏–µ
                if (clientTimezone && selectedCity) {
                    console.log('‚úÖ Saving recent city:', selectedCity);
                    saveRecentCity(selectedCity);
                } else {
                    console.log('‚ö†Ô∏è NOT saving recent city. clientTimezone:', clientTimezone, 'selectedCity:', selectedCity);
                }

                console.log('=== convertTime FINISHED SUCCESSFULLY ===');
                console.log('FINAL RESULT - Time:', resultTime.textContent, 'Date:', resultDate.textContent);
            } catch (error) {
                console.error('‚ùå‚ùå‚ùå ERROR in convertTime:', error);
                console.error('Error stack:', error.stack);
            }
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function copyTime() {
            const date = resultDate.textContent;
            const time = resultTime.textContent;
            const text = `${date} –≤ ${time}`;

            navigator.clipboard.writeText(text).then(() => {
                showNotification('–í—Ä–µ–º—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                showNotification('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
            });
        }

        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            const currentTheme = document.body.classList.contains('light-theme') ? 'light' : 'dark';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';

            document.body.className = newTheme + '-theme';
            localStorage.setItem('theme', newTheme);
            // –û—Ç–º–µ—á–∞–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏–ª —Ç–µ–º—É
            localStorage.setItem('manualThemeChange', 'true');
            updateThemeIcon(newTheme);
        }

        function updateThemeIcon(theme) {
            themeToggle.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–∞–≤–Ω–∏–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏
        function saveRecentCity(city) {
            console.log('saveRecentCity called with:', city);
            let recentCities = JSON.parse(localStorage.getItem('recentCities') || '[]');
            console.log('Current recent cities:', recentCities);

            // –£–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç, –µ—Å–ª–∏ –µ—Å—Ç—å
            recentCities = recentCities.filter(c => c.timezone !== city.timezone);

            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
            recentCities.unshift({
                name: city.name,
                country: city.country,
                timezone: city.timezone,
                utc: city.utc
            });

            // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
            recentCities = recentCities.slice(0, 5);

            console.log('Saving to localStorage:', recentCities);
            localStorage.setItem('recentCities', JSON.stringify(recentCities));
            loadRecentCities();
            console.log('saveRecentCity completed');
        }

        function loadRecentCities() {
            let recentCities = JSON.parse(localStorage.getItem('recentCities') || '[]');

            // –ú–∏–≥—Ä–∞—Ü–∏—è: —É–¥–∞–ª—è–µ–º –≥–æ—Ä–æ–¥–∞ –±–µ–∑ –ø–æ–ª—è utc (—Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
            const originalLength = recentCities.length;
            recentCities = recentCities.filter(city => city.utc);
            if (recentCities.length !== originalLength) {
                console.log('Cleaned old recent cities without utc field');
                localStorage.setItem('recentCities', JSON.stringify(recentCities));
            }

            if (recentCities.length === 0) {
                recentCitiesContainer.style.display = 'none';
                return;
            }

            recentCitiesContainer.style.display = 'block';
            recentCitiesList.innerHTML = '';

            recentCities.forEach(city => {
                const btn = document.createElement('span');
                btn.className = 'recent-city-btn';
                btn.textContent = city.name;
                btn.onclick = () => selectCity(city);
                recentCitiesList.appendChild(btn);
            });
        }

        // –°–æ–±—ã—Ç–∏—è
        psychologistDateInput.addEventListener('change', convertTime);
        psychologistTimeInput.addEventListener('change', convertTime);
        copyBtn.addEventListener('click', copyTime);
        themeToggle.addEventListener('click', toggleTheme);

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        init();
    </script>
</body>
</html>
